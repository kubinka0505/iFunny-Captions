<p align="center"><a href="https://ifunny.co/"><img src="https://cdn.discordapp.com/attachments/267356180064501760/780370694482821140/iFunny_Captions.svg" width=675></a></p>

<p align="center"><a href="https://www.python.org/downloads/release/python-375/"><img src="https://img.shields.io/badge/Python-3.7.5-brightgreen?style=for-the-badge&logoColor=white&link=https://www.python.org/&https://www.python.org/downloads/&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAMAAAAMCGV4AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABVlBMVEUAAAA5e7Q3ebA3eK43dak3dKY2dKI5gLg4ebA1eq83d6s3caI8aaU5e7M3eK42eKs4cJsAgIA4eK85d7A2dqs2dKk2dKc3cqR2koD/10v/20k2ebU4ebDRvlz/1UX/00Q4erDbxFf/0UA2eK42aZb/1ET/zz83d6s3cqQ6c6GZpXuprXCpq2y8s2P900X/00M3cKL/3lH/zDs2dKZVg5L/yjk3c6U3caJihoz/yTn/xzg7dp03bpuqqnH/0kP/0kD/0D7/zjz/yzz/wzz//wD/2E7/zj7/yDf/41X/1Ub/zj3/zTz/yjn/yDf/1Ub/00L/0ED/zj3/zDv/yTr/xzg3d6s3dak3dKc3cqQ3caI3cJ82bp03eK42bZr/10c2a5j/1UX/00P/0UE3dKb/zz//zT3/3U7/20z/2Ur/10j/1Ub/zj3/zDv/00T/0D//0kL/1ET///8twZG5AAAAVXRSTlMAVcbw67tCEuhD9/YRG/ukKQIgLYiIiL44MxUm3HX1QKxwwuqzlfj6/oVudnZvhf2fq/aydbYz7njbKQ0zLb13d3ciEQEaoSoJ7vxN4Rw3suj27MNWkzfuJAAAAAFiS0dEca8HXOIAAAAHdElNRQfkBQcLNhpsHcMTAAAAuklEQVQI12NgAAJGJuZQFlY2Bihg5+DkCguP4OaB8nn5+IHcyCgBME9QSFhEVEw8MipaQlKKgUFaJiYULBsdKxsnJ8+gAOfGKyYkKjEow7kqqolJagzqYckamlraOjq6evpJKakMLMkRBoZp6RmZWYlArhGDcUSkCYybnWPKYGYeZQHi5iblZedYWjEwWNvYArl29g6OTs4uYBe5AmXz89yM3KHu9fAsyM/z8vbxhXnIzz8gMCg4BMQEAKy7MbtksegJAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTA1LTA3VDExOjU0OjI2KzAwOjAw1j8VsQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0wNS0wN1QxMTo1NDoyNiswMDowMKdirQ0AAAAASUVORK5CYII="></a></p>

<p align="center"><a href="../../releases/"><img src="https://img.shields.io/github/v/release/kubinka0505/iFunny-Captions?style=for-the-badge"></a>„ÄÄ<a href="../../commit/"><img src="https://img.shields.io/github/last-commit/kubinka0505/iFunny-Captions?style=for-the-badge"></a></p>

<p align="center"><a href="../../issues/"><img src="https://img.shields.io/github/issues/kubinka0505/iFunny-Captions?style=for-the-badge"></a>„ÄÄ<a href="https://www.gnu.org/licenses/gpl-3.0.txt"><img src="https://img.shields.io/badge/license-GPL%20V3-red?style=for-the-badge"></a></p>

<p align="center"><a href="https://colab.research.google.com/github/kubinka0505/iFunny-Captions/blob/master/iFunny_Captions.ipynb"><img src="https://img.shields.io/badge/colab-open-F9AB00?&logoColor=E8710A&style=for-the-badge&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAATCAMAAADGSv/FAAABjFBMVEX/3gD/lgD/4yX/5R7/4hj/1QP/xgb/sQD/xgb/7AD/3QD/5AD/6AD/5SP/7Qv/wgD/yAD/vwD/7QD/xwX/6hX/7An/6wD/6RX/xgb/7gD/wQX/7AD/7gD/wQT/vQD/xwb/6w//7AP/7AH/wAT/6wD/vQD/xQb/6Rj/xQb/7AX/6BX/xQb/7AX/vQT/7wD/4xD/wwb/6h//xQb/7Ab/7An/wQb/5xn/6R3/xwb/6wz/xAb/wgX/6QD/6hD/7BD/7Qf/wQb/7gD/wQP/6wD/6w3/7Qv/xQX/7QL/7QD/6AD/xwb/yQb/xQb/6hL/xwb/wwX/wwX/4yz/xgX/xgb/uAD/6xL/7A7/wgb/xAb/xwb/xAb/xQX/7AP/xAf/7QL/6xX/6gL/wwf/7gD/wwX/xwb/7A3/xQf/wQb/6gD/wgX/7xz/xQf/5SX/5h7/7R//7RL/xQb/4gX/5xj/4R3/2Db/wQb/1zb/wwb/2jT/3DL/4CT/xQb/3yv/3S//3i7/4C7/4Cn/3gr/yAb/0QRzVjknAAAAAXRSTlMAQObYZgAAAJpJREFUeNqtkAEGw0AQRYclAnKNFaDIb3uIgpxlWBTQi7cz+9dMaBT6EPne37E70ln0w01ItVQlKDqwpJEINKAn9MCJV5h/wBvL6gWabXMPa8AQZwxgoggv2dM0fnOhCLmbywNYiPSnQju/5MXVj1fM3/bANMQO4KWdagU/OMPxBdBzuiIjDj0bB09WJaUvkOySuB4WMLXnxN83/jtyzaim+0gAAAAASUVORK5CYII="></a></p>

## Description üñ•Ô∏è
I was very unsatisfied that there was only a mobile app for those captions, so I've decided to create one for the PC.
‚ùì
## Why should You use it? üìù
|  | Android App | iOS App | `iFunny_Captions` |
|:-:|:-:|:-:|:-:|
| Ability to change font | ‚ùå | ‚ùå | ‚úîÔ∏è  
| Characters limit | **140** | ‚ùî | **‚âà1000** |
| Image size optimization | ‚ùå | ‚ùå | ‚úîÔ∏è
| Emoji support | ‚úîÔ∏è | ‚úîÔ∏è | ‚ùå |
| Graphical User Interface | ‚úîÔ∏è | ‚úîÔ∏è | ‚úîÔ∏è <a href="#"><img src="https://cdn.discordapp.com/attachments/267356180064501760/786295626135633980/Google_Colab_Mini.png" width=25></a> |
| Command Line Interface | ‚ùå | ‚ùå | ‚úîÔ∏è
---
## Completed & Planned Features üßë‚Äçüíª
- ‚úîÔ∏è Completed
- ‚ùå In Development
---
- ‚úîÔ∏è PNG Captions
- ‚úîÔ∏è GIF Captions
- ‚úîÔ∏è Offline support¬π
- ‚úîÔ∏è `Giphy` URL support¬≤
- ‚úîÔ∏è `Tenor` URL support¬≤
- ‚úîÔ∏è Optimization
- ‚úîÔ∏è GIF size reduction
- ‚úîÔ∏è Transparent GIF support
- ‚úîÔ∏è Program Showcase ([Colab](https://youtu.be/Uf-D2iEOvDU))
- ‚ùå Get smaller FFmpeg build
- ‚úîÔ∏è ~~GUI Version~~ Colab Notebook

¬π - **If You are on Windows, You need to add two backslashes instead of one in `URL / Path`!**

¬≤ - Beta, may not work with some URLs.

## Requirements üì•
- `Python >= 3.6`
- `PIL`
- `requests`
- **`FFmpeg >= 4.2.0 static executable binary`** - Since `PIL.ImageSequence.Iterator` messes up the frames colors.
  - [Windows](https://www.videohelp.com/software/ffmpeg/old-versions) (Move `ffmpeg.exe` from `bin` to main folder)
  - [Linux](https://www.johnvansickle.com/ffmpeg/old-releases)
- `gifsicle >= 1.92-2 static executable binary`
  - [Windows](https://eternallybored.org/misc/gifsicle/releases) (Move `gifsicle.exe` to main folder)
  - [Linux (Debian)](https://www.lcdf.org/gifsicle)
---
## Usage üìù

1. Clone the repository.
	```bash
	git clone https://github.com/kubinka0505/iFunny-Captions
	cd iFunny-Captions
	```
2. Move <a href="ReadMe.md#requirements-">the required files</a> to repository folder.
3. Modify the parameters in the `Config.json`:
- `Text` :
  - `Content` : **If Your text will contain `"` or `\`, You will have to configure Your text like in these examples**:
	- `Yea, I've played "Helltaker"`, ‚Üí `Yea, I've played \"Helltaker\"`
	- `_\| VIP |/_` ‚Üí `_\\| VIP |/_`
  - `Wrap_Factor` : Text-wrapping factor used to break the words. **Is dependent on `Max_Width`**. (Unstable Formula)¬π  **Default is `3`**.
- `Image` :
  - `URL / Path` : **Direct** media URL / Path. **[Can be any Image/Video format that FFmpeg supports](https://en.wikipedia.org/wiki/FFmpeg#Supported_formats)**.
  - `Max_Width` : Maximum single frame width. Height is relatively scaled. **Default is `450`**.¬π
- `Font` :
  - `Type` : Defines font style used as a caption text. **Default is `2`**.
	- `1` : `Roboto Condensed Black` - Android font.
	- `2` : `Futura Extra Black Condensed Regular` - iOS font.
  - `Size` : Font size in pixels. If the value is `false`, then it's calculated by the following formula: *`Max Width √∑ 10`*. **Default is `false`**.
- `Settings` :
  - `Delay` : Single frame display time. (in milliseconds) **Default is `5`**.
	- If `0` : It shouldn't change its original value.
	- If `1` : Delay (in code) is `2`, but removes every 2nd frame, so it tries to *appear* as the Delay was smaller. <h style="font-size:8">might delete later</h>
	
	**Doesn't Work when `Optimize` is `false`**!
	
	Inputted `Delay` is increased by `1` in code. Also if value is `0` it can slow the GIF.
  - `Optimize` : **GIF** file size reduction. (`gifsicle` encoder)
	- `Enable` : **Default is `true`**.
	- `Lossy` : LZW lossy compression value. **Default is `200`**.
	
	Some GIFs *can* result in bigger file size **despite** that they are being "*optimized*".
  - `Dark_Mode` : Changes the colors of the Font to `#141414` and Caption Field to `#404040`.
	- `Enable` : **Default is `false`**.
	- `After_Hour` : Activates after set hour in **24-hour time format**. **Default is `22`**.
  - `FFmpeg_Location` : The FFmpeg static executable binary file location.

  Made in the case when You have it somewhere else on Your computer.

  **If You are on Windows, You need to add two backslashes instead of one in Path!**

  **Default is `""`** - *program* assumes that file is in *its* main folder.
  - `Logs` : **Default is `false`**. Displays:
	- Detailed information about image creation time
4. Open `Run.sh`
...or go to Your command prompt and type the following:
	```bash
	python __init__.py
	```
5. Share Your image from the `Images` directory.

¬π - `Max_Width` and `Wrap_Factor` table:
| If `Max_Width` is | 1000 | 800 | 650 | 450 | 300 |
|:-:|:-:|:-:|:-:|:-:|:-:|
| Set `Wrap_Factor` to | 6 | 5 | 4 | 3 | 2 |

## Meta Info ‚ÑπÔ∏è
### Disclaimer ‚ö†Ô∏è
**All versions of this project have been made on:**
- `Windows 7 (64-bit)`
- `Python 3.7.5`

**<a href="../../issues/new">In case of problems create issue</a>**.

---
### Supported GIF services üóÉÔ∏è

If some doesn't work, copy **direct GIF URL** from the Image in site, or just input / paste its location.
| Tenor | Giphy | Gfycat | ImgFlip | Gifer | GifImage | BestAnimations | Gif-Finder | ReactionGIFs | ReplyGIF |
|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
<a href="https://tenor.com"><img src="https://cdn.discordapp.com/attachments/267356180064501760/778241233297997844/Tenor_Logo.png" width=65></a> | <a href="https://giphy.com"><img src="https://cdn.discordapp.com/attachments/267356180064501760/778241495508713482/Giphy_Logo.png" width=65></a> | <a href="https://gfycat.com"><img src="https://cdn.discordapp.com/attachments/267356180064501760/778241493034336296/Gfycat_Logo.png" width=65></a> | <a href="https://imgflip.com"><img src="https://cdn.discordapp.com/attachments/267356180064501760/778372465599971328/ImgFlip_Logo.png" width=65></a> |  <a href="https://gifer.com"><img src="https://cdn.discordapp.com/attachments/267356180064501760/779682825481093160/Gifer_Logo.png" width=65></a> | <a href="https://gifimage.net"><img src="https://cdn.discordapp.com/attachments/267356180064501760/779685966767980594/GifImage_Logo.png" width=65></a> | <a href="http://bestanimations.com"><img src="https://cdn.discordapp.com/attachments/267356180064501760/779686626737651712/BestAnimations_Logo.png" width=65></a> | <a href="https://gif-finder.com"><img src="https://cdn.discordapp.com/attachments/267356180064501760/779687456269402132/GifFinder_Logo.png" width=65></a> | <a href="https://reactiongifs.us"><img src="https://cdn.discordapp.com/attachments/267356180064501760/779688523476631552/ReactionGIFs_Logo.png" width=65></a> | <a href="http://replygif.net"><img src="https://cdn.discordapp.com/attachments/267356180064501760/779689535679627284/ReplyGif_Logo.png" width=65></a> |

---
### Comparisons üî¢
Fonts and caption field height may differ because of the app version.

- | Created Using | Creation Time | Size | Preview |
  |:-:|:-:|:-:|:-:|
  | kubinka0505's<br>"iFunny-Captions" | 40 seconds<br>514 microseconds | 675 kilobytes<br>(690476 bytes) | <img src="https://cdn.discordapp.com/attachments/267356180064501760/779733267691733002/Example_iFOkLfuG.gif" width=200> |
  | iFunny's<br>Android App | 29 seconds<br>890 microseconds<br>*+ saving to device* | 1.62 megabytes<br>(1629670 bytes) | <img src="https://cdn.discordapp.com/attachments/267356180064501760/778244115133497364/93f3155533a382a505e26251944e55f914e3d3cf1a43ec1d6b46d59a315c61dc_1.gif.gif" width=200> |
- | Created Using | Creation Time | Size | Preview |
  |:-:|:-:|:-:|:-:|
  | kubinka0505's<br>"iFunny-Captions" | 9 seconds<br>453 microseconds | 210 kilobytes<br>(214781 bytes) | <img src="https://cdn.discordapp.com/attachments/267356180064501760/779736416925253662/Example_PTVwpHws.gif" width=200> |
  | iFunny's<br>Android App | 12 seconds<br>900 microseconds<br>*+ saving to device* | 535 kilobytes<br>(535869 bytes) | <img src="https://cdn.discordapp.com/attachments/267356180064501760/778263102147526676/08d38a26a9396e35512bda67c85fe9716c5ee11f8ef1bccde0cd6fac0640364a_1.gif.gif" width=200> |
---
| Tested With | App Version | Device's Processor |
|:-:|:-:|:-:|
| PC | 2.6 | Intel Core i3-2120 |
| Huawei P10 Lite | 6.15.3 | HiSilicon Kirin 658 |
